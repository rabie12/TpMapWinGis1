Ok, parfait ‚Äî I see exactly what is wrong now.
Liquibase is telling you:

WARNING: invalid LIQUIBASE_* environment variables
- LIQUIBASE_CHANGELOG_FILE

‚û°Ô∏è This means the environment variable you created does NOT match the supported Liquibase variable names.
‚û°Ô∏è Liquibase is ignoring your variables, so it tries to run without URL and fails:

Invalid argument --url : missing required argument


‚∏ª

‚úÖ 1. Correct environment variable names (Liquibase 4.20+)

Liquibase completely changed its variable system.

The correct names MUST match this pattern:

LIQUIBASE_COMMAND_<CamelCaseParameter>

Here are the correct ones for your case:

setx LIQUIBASE_COMMAND_CHANGELOG_FILE "changelogMaster.yaml"
setx LIQUIBASE_SEARCH_PATH "C:\Users\RHABACHI\IdeaProjects\bankinfo\liquibase"
setx LIQUIBASE_COMMAND_URL "jdbc:mariadb://localhost:3306/external_bank_data"
setx LIQUIBASE_COMMAND_USERNAME "root"
setx LIQUIBASE_COMMAND_PASSWORD "root"

‚ö†Ô∏è Restart PowerShell after running setx
(setx does NOT update the current session).

‚∏ª

‚ùå 2. Your current variable is invalid

You set:

LIQUIBASE_CHANGELOG_FILE

But Liquibase expects:

LIQUIBASE_COMMAND_CHANGELOG_FILE

That‚Äôs why you get the warning:

invalid LIQUIBASE_* environment variables

and then:

Invalid argument --url: missing required argument


‚∏ª

‚úÖ 3. The cleanest solution (recommended): liquibase.properties

You do NOT need environment variables at all.

Create this file:

C:\Users\RHABACHI\Downloads\liquibase-4.33.0\liquibase.properties

Content:

searchPath=C:/Users/RHABACHI/IdeaProjects/bankinfo/liquibase
changelogFile=changelogMaster.yaml

url=jdbc:mariadb://localhost:3306/external_bank_data
username=root
password=root

Then simply run:

.\liquibase.bat update

üíØ Works every time
üíØ No env variable problems
üíØ No PowerShell caret issues
üíØ Same config used by your Java code

‚∏ª

üéØ 4. Your last question: ‚ÄúI want Liquibase to check what has already been executed and continue‚Äù

Liquibase already does this automatically using the table:

DATABASECHANGELOG

If your DB already has the baseline tables and changeset entry, but your local Liquibase does NOT, run:

.\liquibase.bat changelog-sync

This marks all existing changesets as executed without running them again.

Then:

.\liquibase.bat update

will apply only new changesets, exactly as on production.

‚∏ª

üëç If you want me to finalize your configuration

Please send me:

tree C:\Users\RHABACHI\IdeaProjects\bankinfo\liquibase /F

I will write the exact liquibase.properties for your structure and fix all the path issues.