on this case the resul is not passed is failed as i see you still try to return valid value when its failed we should directly return value of :

@Data
@AllArgsConstructor
@NoArgsConstructor
public class IbanSearchHistoryDTO {

    private String iban;
    private String result;
    private BankInfoDTO bankInfoDTO;
    private BankAgencyDTO bankAgencyDTO;
    @JsonIgnore
    private String responseDetails;

    public IbanSearchHistoryDTO(String iban, String result, String responseDetails) {
        this.iban = iban;
        this.result = result;
        this.responseDetails = responseDetails;
    }
}


with invalid_iban as result
