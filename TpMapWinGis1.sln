Parfait 😎 voici maintenant l’équivalent complet des commandes Linux (bash) — c’est ce que tu utiliseras si ton serveur tourne sous Linux/Unix (par ex. un serveur applicatif où les batchs pacsIntegratorJob, sctJob, etc. sont exécutés).

⸻

🧭 1. Navigation de base dans les dossiers

# Aller dans un dossier
cd /data/bankflows/bb/EnvoiBanque

# Remonter d’un dossier
cd ..

# Voir le contenu du dossier
ls

# Voir plus de détails (taille, date, droits)
ls -lh

# Voir uniquement les fichiers XML
ls *.xml

💡 Astuce :

ls -ltr

Affiche les fichiers du plus ancien au plus récent (souvent utile pour vérifier l’ordre de traitement).

⸻

📄 2. Copier, déplacer ou supprimer des fichiers

Copier un fichier

cp /data/bankflows/bb/EnvoiBanque/pacs008_20251006.xml /data/bankflows/bb/sauvegarde/

Déplacer un fichier

mv /data/bankflows/bb/RetourBanque/pacs004_20251006.xml /data/bankflows/bb/sauvegarde/

Supprimer un fichier

rm /data/bankflows/bb/RetourBanque/oldfile.xml

⚠️ Toujours être prudent avec rm — ajoute -i pour confirmation :

rm -i fichier.xml


⸻

🔍 3. Lire le contenu d’un fichier (log ou XML)

Lire tout le fichier :

cat /data/bankflows/bb/RetourBanque/pacs008_20251006.xml

Lire seulement les 20 premières lignes :

head -n 20 /data/bankflows/bb/RetourBanque/pacs008_20251006.xml

Lire les 50 dernières lignes :

tail -n 50 /data/bankflows/logs/pacsIntegratorJob.log


⸻

🧾 4. Recherche dans un fichier

Rechercher une chaîne (ex: Reject, Error, MSGID) :

grep "Reject" /data/bankflows/logs/pacsIntegratorJob.log

🔹 Ignorer la casse :

grep -i "error" /data/bankflows/logs/pacsIntegratorJob.log

🔹 Voir le numéro de ligne :

grep -n "Reject" /data/bankflows/logs/pacsIntegratorJob.log

🔹 Rechercher dans tous les logs du dossier :

grep -i "Reject" /data/bankflows/logs/*.log


⸻

📡 5. Suivre un fichier de log en temps réel

Comme le mode “live” :

tail -f /data/bankflows/logs/pacsIntegratorJob.log

🔹 Pour sortir :
👉 Ctrl + C

Tu peux suivre plusieurs fichiers à la fois :

tail -f /data/bankflows/logs/pacsIntegratorJob.log /data/bankflows/logs/sctJob.log


⸻

🧰 6. Ouvrir un fichier texte dans un éditeur

Avec vi (classique)

vi /data/bankflows/bb/EnvoiBanque/pacs008_20251006.xml

	•	Entrer en édition : i
	•	Sauvegarder et quitter : :wq
	•	Quitter sans sauvegarder : :q!

Avec nano (plus simple)

nano /data/bankflows/bb/EnvoiBanque/pacs008_20251006.xml

	•	Quitter : Ctrl + X
	•	Confirmer la sauvegarde : Y (yes) puis Entrée

⸻

🧹 7. Copier ou archiver plusieurs fichiers d’un coup

Exemple : copier tous les fichiers du jour dans le dossier sauvegarde

cp /data/bankflows/bb/EnvoiBanque/pacs*_20251006.xml /data/bankflows/bb/sauvegarde/

ou tous les XML :

cp /data/bankflows/bb/RetourBanque/*.xml /data/bankflows/bb/sauvegarde/


⸻

📦 8. Créer une archive (sauvegarde manuelle)

Tu peux créer une archive des fichiers traités du jour :

tar -czvf pacs_backup_20251006.tar.gz /data/bankflows/bb/sauvegarde/


⸻

🚪 9. Commandes pour quitter

Situation	Raccourci / commande
Lecture tail -f	Ctrl + C
Éditeur vi	:q! ou :wq
Éditeur nano	Ctrl + X
Terminal SSH / session	exit


⸻

💡 Bonus : surveillance rapide de fichiers PACS

Lister les fichiers PACS du jour avec leur taille :

ls -lh /data/bankflows/bb/EnvoiBanque/pacs*$(date +%Y%m%d)*.xml

Compter combien de PACS ont été envoyés :

ls /data/bankflows/bb/EnvoiBanque/pacs*.xml | wc -l


⸻

Souhaites-tu que je te fasse un script automatique (bash) qui :
	•	archive les anciens PACS,
	•	copie les nouveaux dans /bb/sauvegarde,
	•	et affiche un résumé (combien envoyés / reçus / rejetés) ?