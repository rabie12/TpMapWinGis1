Ah ! Parfait, merci pour le code de SctDebitPdfContent. ðŸ’¡

Ã‡a explique pourquoi tu avais des erreurs de getter : cette classe nâ€™a pas de getters individuels pour chaque champ, elle stocke tout dans un Map<String, String> fields. Donc les mÃ©thodes comme getSupplierName() ou getOutName() nâ€™existent pas.

Tu dois donc utiliser getField(KEY) pour lire les valeurs.

â¸»

âœ… Comment adapter ta mÃ©thode de comparaison

Au lieu de :

if (!Objects.equals(in.getSupplierName(), db.getSupplierName()))

Tu fais :

if (!Objects.equals(in.getField(SctDebitPdfContent.SUPPLIER_NAME), 
                    db.getField(SctDebitPdfContent.SUPPLIER_NAME)))
    return "supplierName mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.SUPPLIER_IBAN), 
                    db.getField(SctDebitPdfContent.SUPPLIER_IBAN)))
    return "supplierIban mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.OUT_NAME), 
                    db.getField(SctDebitPdfContent.OUT_NAME)))
    return "outName mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.OUT_IBAN), 
                    db.getField(SctDebitPdfContent.OUT_IBAN)))
    return "outIban mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.OUT_ADDRESS), 
                    db.getField(SctDebitPdfContent.OUT_ADDRESS)))
    return "outAddress mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.AMOUNT), 
                    db.getField(SctDebitPdfContent.AMOUNT)))
    return "amount mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.EXECUTION_DATE), 
                    db.getField(SctDebitPdfContent.EXECUTION_DATE)))
    return "executionDate mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.LABEL), 
                    db.getField(SctDebitPdfContent.LABEL)))
    return "label mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.END_TO_END_ID), 
                    db.getField(SctDebitPdfContent.END_TO_END_ID)))
    return "endToEndId mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.TX_ID), 
                    db.getField(SctDebitPdfContent.TX_ID)))
    return "txId mismatch";

if (!Objects.equals(in.getField(SctDebitPdfContent.CONTROL_KEY), 
                    db.getField(SctDebitPdfContent.CONTROL_KEY)))
    return "controlKey mismatch";


â¸»

âœ… Version complÃ¨te de la validation

private String validateInputMatchesDb(SctDebitData input) {

    SctDebitPdfContent db = getContent(input.getOrderId());
    SctDebitPdfContent in = mapToContent(input);

    if (!Objects.equals(in.getField(SctDebitPdfContent.SUPPLIER_NAME), db.getField(SctDebitPdfContent.SUPPLIER_NAME)))
        return "supplierName mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.SUPPLIER_IBAN), db.getField(SctDebitPdfContent.SUPPLIER_IBAN)))
        return "supplierIban mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.OUT_NAME), db.getField(SctDebitPdfContent.OUT_NAME)))
        return "outName mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.OUT_IBAN), db.getField(SctDebitPdfContent.OUT_IBAN)))
        return "outIban mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.OUT_ADDRESS), db.getField(SctDebitPdfContent.OUT_ADDRESS)))
        return "outAddress mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.AMOUNT), db.getField(SctDebitPdfContent.AMOUNT)))
        return "amount mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.EXECUTION_DATE), db.getField(SctDebitPdfContent.EXECUTION_DATE)))
        return "executionDate mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.LABEL), db.getField(SctDebitPdfContent.LABEL)))
        return "label mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.END_TO_END_ID), db.getField(SctDebitPdfContent.END_TO_END_ID)))
        return "endToEndId mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.TX_ID), db.getField(SctDebitPdfContent.TX_ID)))
        return "txId mismatch";

    if (!Objects.equals(in.getField(SctDebitPdfContent.CONTROL_KEY), db.getField(SctDebitPdfContent.CONTROL_KEY)))
        return "controlKey mismatch";

    return null;
}


â¸»

âš¡ RÃ©sultat
	â€¢	Plus dâ€™erreur de getter
	â€¢	Validation fiable et complÃ¨te
	â€¢	Utilise uniquement les mÃ©thodes disponibles (getField(KEY))

â¸»

Si tu veux, je peux te fournir une version encore plus gÃ©nÃ©rique qui boucle sur toutes les clÃ©s du Map pour ne pas Ã©crire tous les if Ã  la main.

Veuxâ€‘tu que je fasse Ã§aâ€¯?